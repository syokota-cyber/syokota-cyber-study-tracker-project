# StudyTracker æŠ€è¡“ä»•æ§˜æ›¸

## ğŸ“‹ æ–‡æ›¸æƒ…å ±

| é …ç›® | å†…å®¹ |
|------|------|
| ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå | StudyTracker |
| æ–‡æ›¸å | æŠ€è¡“ä»•æ§˜æ›¸ |
| ç‰ˆæ•° | v2.0 |
| ä½œæˆæ—¥ | 2025å¹´7æœˆ22æ—¥ |
| æ›´æ–°æ—¥ | 2025å¹´8æœˆ5æ—¥ |
| ä½œæˆè€… | å­¦ç¿’è€… |
| æ‰¿èªè€… | - |

---

## ğŸ—ï¸ ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### å…¨ä½“æ§‹æˆ
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰   â”‚    â”‚     ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰   â”‚    â”‚     ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹   â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚
â”‚  Vue.js/React   â”‚â—„â”€â”€â–ºâ”‚    FastAPI      â”‚â—„â”€â”€â–ºâ”‚    SQLite       â”‚
â”‚  + Tailwind CSS â”‚    â”‚   + SQLAlchemy  â”‚    â”‚   (PostgreSQL)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â”‚                       â”‚                       â”‚
         â–¼                       â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   CLI Interface â”‚    â”‚   CI/CD Pipelineâ”‚    â”‚   Backup System â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚
â”‚   Python CLI    â”‚    â”‚ GitHub Actions  â”‚    â”‚   Auto Backup   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ãƒ¬ã‚¤ãƒ¤ãƒ¼æ§‹æˆ
1. **ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³å±¤**: Web UIã€CLI
2. **ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å±¤**: FastAPIã€ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯
3. **ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹å±¤**: SQLAlchemyã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
4. **ã‚¤ãƒ³ãƒ•ãƒ©å±¤**: Dockerã€CI/CDã€ç›£è¦–

---

## ğŸ› ï¸ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯è©³ç´°

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰æŠ€è¡“

#### è¨€èªãƒ»ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
- **è¨€èª**: Python 3.11+
- **Webãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**: FastAPI 0.104+
- **ORM**: SQLAlchemy 2.0+
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**: SQLite 3.xï¼ˆåˆæœŸï¼‰â†’ PostgreSQL 15+ï¼ˆå°†æ¥ï¼‰

#### ä¸»è¦ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
```python
# requirements.txt
fastapi==0.104.1
uvicorn[standard]==0.24.0
sqlalchemy==2.0.23
pydantic==2.5.0
pytest==7.4.3
pytest-cov==4.1.0
black==23.11.0
flake8==6.1.0
```

#### é–‹ç™ºãƒ„ãƒ¼ãƒ«
- **ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ãƒ¼**: Black
- **ãƒªãƒ³ã‚¿ãƒ¼**: Flake8
- **ãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**: pytest
- **å‹ãƒã‚§ãƒƒã‚¯**: mypyï¼ˆå°†æ¥ï¼‰

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰æŠ€è¡“

#### ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ãƒ»ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
- **ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**: Vue.js 3.x / React 18.x
- **UIãƒ©ã‚¤ãƒ–ãƒ©ãƒª**: Tailwind CSS 3.x
- **ã‚°ãƒ©ãƒ•ãƒ©ã‚¤ãƒ–ãƒ©ãƒª**: Chart.js 4.x
- **ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«**: Vite 5.x

#### ä¸»è¦ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
```json
{
  "dependencies": {
    "vue": "^3.3.0",
    "tailwindcss": "^3.3.0",
    "chart.js": "^4.4.0",
    "axios": "^1.6.0"
  },
  "devDependencies": {
    "vite": "^5.0.0",
    "@vitejs/plugin-vue": "^4.5.0"
  }
}
```

### ã‚¤ãƒ³ãƒ•ãƒ©ãƒ»é‹ç”¨æŠ€è¡“

#### ã‚³ãƒ³ãƒ†ãƒŠãƒ»ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
- **ã‚³ãƒ³ãƒ†ãƒŠ**: Docker 24.x
- **ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³**: Docker Composeï¼ˆé–‹ç™ºï¼‰
- **æœ¬ç•ªç’°å¢ƒ**: Kubernetesï¼ˆå°†æ¥ï¼‰

#### CI/CDãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤
- **CI/CD**: GitHub Actions
- **ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°**: GitHub Pages / Vercelï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼‰
- **APIãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°**: Railway / Renderï¼ˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼‰

#### ç›£è¦–ãƒ»ãƒ­ã‚°
- **ç›£è¦–**: Prometheus + Grafanaï¼ˆå°†æ¥ï¼‰
- **ãƒ­ã‚°**: æ§‹é€ åŒ–ãƒ­ã‚°ï¼ˆJSONå½¢å¼ï¼‰
- **ã‚¨ãƒ©ãƒ¼è¿½è·¡**: Sentryï¼ˆå°†æ¥ï¼‰

---

## ğŸ“Š ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ

### ERå›³
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   study_records â”‚    â”‚  study_goals    â”‚    â”‚   categories    â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚
â”‚ id (PK)         â”‚    â”‚ id (PK)         â”‚    â”‚ id (PK)         â”‚
â”‚ title           â”‚    â”‚ title           â”‚    â”‚ name            â”‚
â”‚ content         â”‚    â”‚ description     â”‚    â”‚ description     â”‚
â”‚ study_time      â”‚    â”‚ target_date     â”‚    â”‚ color           â”‚
â”‚ category_id (FK)â”‚â—„â”€â”€â–ºâ”‚ progress        â”‚    â”‚ created_at      â”‚
â”‚ difficulty      â”‚    â”‚ status          â”‚    â”‚ updated_at      â”‚
â”‚ created_at      â”‚    â”‚ created_at      â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ updated_at      â”‚    â”‚ updated_at      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ãƒ†ãƒ¼ãƒ–ãƒ«å®šç¾©

#### study_recordsï¼ˆå­¦ç¿’è¨˜éŒ²ï¼‰
```sql
CREATE TABLE study_records (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    title VARCHAR(255) NOT NULL,
    content TEXT,
    study_time INTEGER NOT NULL DEFAULT 0,
    category_id INTEGER,
    difficulty INTEGER CHECK (difficulty BETWEEN 1 AND 5),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (category_id) REFERENCES categories(id)
);
```

#### study_goalsï¼ˆå­¦ç¿’ç›®æ¨™ï¼‰
```sql
CREATE TABLE study_goals (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    title VARCHAR(255) NOT NULL,
    description TEXT,
    target_date DATE,
    progress INTEGER DEFAULT 0 CHECK (progress BETWEEN 0 AND 100),
    status VARCHAR(20) DEFAULT 'active' CHECK (status IN ('active', 'completed', 'cancelled')),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

#### categoriesï¼ˆã‚«ãƒ†ã‚´ãƒªï¼‰
```sql
CREATE TABLE categories (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name VARCHAR(100) NOT NULL UNIQUE,
    description TEXT,
    color VARCHAR(7) DEFAULT '#3B82F6',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

### ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹è¨­è¨ˆ
```sql
-- å­¦ç¿’è¨˜éŒ²ã®æ¤œç´¢ç”¨ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
CREATE INDEX idx_study_records_category ON study_records(category_id);
CREATE INDEX idx_study_records_created_at ON study_records(created_at);
CREATE INDEX idx_study_records_difficulty ON study_records(difficulty);

-- å­¦ç¿’ç›®æ¨™ã®æ¤œç´¢ç”¨ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
CREATE INDEX idx_study_goals_status ON study_goals(status);
CREATE INDEX idx_study_goals_target_date ON study_goals(target_date);

-- ã‚«ãƒ†ã‚´ãƒªã®æ¤œç´¢ç”¨ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
CREATE INDEX idx_categories_name ON categories(name);
```

---

## ğŸ”Œ APIè¨­è¨ˆ

### RESTful APIè¨­è¨ˆåŸå‰‡
- **ãƒªã‚½ãƒ¼ã‚¹æŒ‡å‘**: å­¦ç¿’è¨˜éŒ²ã€ç›®æ¨™ã€ã‚«ãƒ†ã‚´ãƒªã‚’ãƒªã‚½ãƒ¼ã‚¹ã¨ã—ã¦æ‰±ã†
- **HTTPãƒ¡ã‚½ãƒƒãƒ‰**: GETã€POSTã€PUTã€DELETEã®é©åˆ‡ãªä½¿ç”¨
- **ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰**: é©åˆ‡ãªHTTPã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰ã®ä½¿ç”¨
- **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: çµ±ä¸€ã•ã‚ŒãŸã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹å½¢å¼

### APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

#### å­¦ç¿’è¨˜éŒ²API
```
GET    /api/study-records          # å­¦ç¿’è¨˜éŒ²ä¸€è¦§å–å¾—
POST   /api/study-records          # å­¦ç¿’è¨˜éŒ²ä½œæˆ
GET    /api/study-records/{id}     # å­¦ç¿’è¨˜éŒ²è©³ç´°å–å¾—
PUT    /api/study-records/{id}     # å­¦ç¿’è¨˜éŒ²æ›´æ–°
DELETE /api/study-records/{id}     # å­¦ç¿’è¨˜éŒ²å‰Šé™¤
GET    /api/study-records/search   # å­¦ç¿’è¨˜éŒ²æ¤œç´¢
```

#### å­¦ç¿’ç›®æ¨™API
```
GET    /api/study-goals            # å­¦ç¿’ç›®æ¨™ä¸€è¦§å–å¾—
POST   /api/study-goals            # å­¦ç¿’ç›®æ¨™ä½œæˆ
GET    /api/study-goals/{id}       # å­¦ç¿’ç›®æ¨™è©³ç´°å–å¾—
PUT    /api/study-goals/{id}       # å­¦ç¿’ç›®æ¨™æ›´æ–°
DELETE /api/study-goals/{id}       # å­¦ç¿’ç›®æ¨™å‰Šé™¤
```

#### ã‚«ãƒ†ã‚´ãƒªAPI
```
GET    /api/categories             # ã‚«ãƒ†ã‚´ãƒªä¸€è¦§å–å¾—
POST   /api/categories             # ã‚«ãƒ†ã‚´ãƒªä½œæˆ
GET    /api/categories/{id}        # ã‚«ãƒ†ã‚´ãƒªè©³ç´°å–å¾—
PUT    /api/categories/{id}        # ã‚«ãƒ†ã‚´ãƒªæ›´æ–°
DELETE /api/categories/{id}        # ã‚«ãƒ†ã‚´ãƒªå‰Šé™¤
```

#### çµ±è¨ˆAPI
```
GET    /api/statistics/overview    # çµ±è¨ˆæ¦‚è¦
GET    /api/statistics/time-series # æ™‚é–“ç³»åˆ—ãƒ‡ãƒ¼ã‚¿
GET    /api/statistics/categories  # ã‚«ãƒ†ã‚´ãƒªåˆ¥çµ±è¨ˆ
```

### ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«ï¼ˆPydanticï¼‰

#### StudyRecord
```python
from pydantic import BaseModel, Field
from datetime import datetime
from typing import Optional

class StudyRecordBase(BaseModel):
    title: str = Field(..., min_length=1, max_length=255)
    content: Optional[str] = None
    study_time: int = Field(..., ge=0)
    category_id: Optional[int] = None
    difficulty: Optional[int] = Field(None, ge=1, le=5)

class StudyRecordCreate(StudyRecordBase):
    pass

class StudyRecordUpdate(BaseModel):
    title: Optional[str] = Field(None, min_length=1, max_length=255)
    content: Optional[str] = None
    study_time: Optional[int] = Field(None, ge=0)
    category_id: Optional[int] = None
    difficulty: Optional[int] = Field(None, ge=1, le=5)

class StudyRecord(StudyRecordBase):
    id: int
    created_at: datetime
    updated_at: datetime

    class Config:
        from_attributes = True
```

### ã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹å½¢å¼
```python
class ErrorResponse(BaseModel):
    error: str
    message: str
    detail: Optional[str] = None
    timestamp: datetime = Field(default_factory=datetime.utcnow)
```

---

## ğŸ¨ ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰è¨­è¨ˆ

### ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ§‹æˆ

#### ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
```
src/
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ Dashboard.vue          # ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
â”‚   â”œâ”€â”€ StudyRecords.vue       # å­¦ç¿’è¨˜éŒ²ä¸€è¦§
â”‚   â”œâ”€â”€ StudyRecordDetail.vue  # å­¦ç¿’è¨˜éŒ²è©³ç´°
â”‚   â”œâ”€â”€ StudyGoals.vue         # å­¦ç¿’ç›®æ¨™
â”‚   â”œâ”€â”€ Statistics.vue         # çµ±è¨ˆãƒ»åˆ†æ
â”‚   â””â”€â”€ Settings.vue           # è¨­å®š
```

#### å…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
```
src/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ common/
â”‚   â”‚   â”œâ”€â”€ Header.vue         # ãƒ˜ãƒƒãƒ€ãƒ¼
â”‚   â”‚   â”œâ”€â”€ Sidebar.vue        # ã‚µã‚¤ãƒ‰ãƒãƒ¼
â”‚   â”‚   â”œâ”€â”€ Footer.vue         # ãƒ•ãƒƒã‚¿ãƒ¼
â”‚   â”‚   â””â”€â”€ Loading.vue        # ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°
â”‚   â”œâ”€â”€ forms/
â”‚   â”‚   â”œâ”€â”€ StudyRecordForm.vue # å­¦ç¿’è¨˜éŒ²ãƒ•ã‚©ãƒ¼ãƒ 
â”‚   â”‚   â””â”€â”€ StudyGoalForm.vue   # å­¦ç¿’ç›®æ¨™ãƒ•ã‚©ãƒ¼ãƒ 
â”‚   â””â”€â”€ charts/
â”‚       â”œâ”€â”€ TimeSeriesChart.vue # æ™‚é–“ç³»åˆ—ã‚°ãƒ©ãƒ•
â”‚       â””â”€â”€ CategoryChart.vue   # ã‚«ãƒ†ã‚´ãƒªåˆ¥ã‚°ãƒ©ãƒ•
```

### çŠ¶æ…‹ç®¡ç†
```javascript
// Piniaï¼ˆVue.jsï¼‰ã¾ãŸã¯Reduxï¼ˆReactï¼‰
const useStudyStore = defineStore('study', {
  state: () => ({
    studyRecords: [],
    studyGoals: [],
    categories: [],
    loading: false,
    error: null
  }),
  
  actions: {
    async fetchStudyRecords() { /* ... */ },
    async createStudyRecord(record) { /* ... */ },
    async updateStudyRecord(id, record) { /* ... */ },
    async deleteStudyRecord(id) { /* ... */ }
  }
});
```

### ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°
```javascript
// Vue Router
const routes = [
  {
    path: '/',
    name: 'Dashboard',
    component: Dashboard
  },
  {
    path: '/study-records',
    name: 'StudyRecords',
    component: StudyRecords
  },
  {
    path: '/study-records/:id',
    name: 'StudyRecordDetail',
    component: StudyRecordDetail
  },
  {
    path: '/study-goals',
    name: 'StudyGoals',
    component: StudyGoals
  },
  {
    path: '/statistics',
    name: 'Statistics',
    component: Statistics
  },
  {
    path: '/settings',
    name: 'Settings',
    component: Settings
  }
];
```

---

## ğŸ§ª ãƒ†ã‚¹ãƒˆæˆ¦ç•¥

### ãƒ†ã‚¹ãƒˆãƒ”ãƒ©ãƒŸãƒƒãƒ‰
```
        E2E Tests (å°‘æ•°)
           â–²
    Integration Tests (ä¸­ç¨‹åº¦)
           â–²
    Unit Tests (å¤šæ•°)
```

### ãƒ†ã‚¹ãƒˆç¨®åˆ¥

#### ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ
- **å¯¾è±¡**: å€‹åˆ¥ã®é–¢æ•°ãƒ»ã‚¯ãƒ©ã‚¹ãƒ»ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- **ãƒ„ãƒ¼ãƒ«**: pytestï¼ˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼‰ã€Vitestï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼‰
- **ã‚«ãƒãƒ¬ãƒƒã‚¸ç›®æ¨™**: 80%ä»¥ä¸Š

#### çµ±åˆãƒ†ã‚¹ãƒˆ
- **å¯¾è±¡**: APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ“ä½œ
- **ãƒ„ãƒ¼ãƒ«**: pytest + FastAPI TestClient
- **ã‚«ãƒãƒ¬ãƒƒã‚¸ç›®æ¨™**: ä¸»è¦æ©Ÿèƒ½ã®100%

#### E2Eãƒ†ã‚¹ãƒˆ
- **å¯¾è±¡**: ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œãƒ•ãƒ­ãƒ¼
- **ãƒ„ãƒ¼ãƒ«**: Playwright / Cypress
- **ã‚«ãƒãƒ¬ãƒƒã‚¸ç›®æ¨™**: é‡è¦ãªãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ­ãƒ¼

### ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ç®¡ç†
```python
# ãƒ•ã‚£ã‚¯ã‚¹ãƒãƒ£
@pytest.fixture
def sample_study_record():
    return {
        "title": "PythonåŸºç¤å­¦ç¿’",
        "content": "å¤‰æ•°ã€é–¢æ•°ã€ã‚¯ãƒ©ã‚¹ã®å­¦ç¿’",
        "study_time": 60,
        "category_id": 1,
        "difficulty": 3
    }

@pytest.fixture
def sample_category():
    return {
        "name": "Python",
        "description": "Pythonãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°",
        "color": "#3776AB"
    }
```

---

## ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­è¨ˆ

### èªè¨¼ãƒ»èªå¯
- **èªè¨¼æ–¹å¼**: JWTï¼ˆå°†æ¥ï¼‰
- **èªå¯**: ãƒ­ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ï¼ˆå°†æ¥ï¼‰
- **ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†**: ã‚»ã‚­ãƒ¥ã‚¢ãªã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†

### ãƒ‡ãƒ¼ã‚¿ä¿è­·
- **æš—å·åŒ–**: æ©Ÿå¯†ãƒ‡ãƒ¼ã‚¿ã®æš—å·åŒ–
- **ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—**: å®šæœŸçš„ãªãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
- **ãƒ‡ãƒ¼ã‚¿å‰Šé™¤**: é©åˆ‡ãªãƒ‡ãƒ¼ã‚¿å‰Šé™¤å‡¦ç†

### å…¥åŠ›æ¤œè¨¼
- **ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³**: Pydanticã«ã‚ˆã‚‹å…¥åŠ›æ¤œè¨¼
- **ã‚µãƒ‹ã‚¿ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³**: XSSå¯¾ç­–
- **SQLã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³å¯¾ç­–**: ORMã®ä½¿ç”¨

---

## ğŸ“ˆ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¨­è¨ˆ

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æœ€é©åŒ–
- **ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹**: é©åˆ‡ãªã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹è¨­è¨ˆ
- **ã‚¯ã‚¨ãƒªæœ€é©åŒ–**: åŠ¹ç‡çš„ãªã‚¯ã‚¨ãƒªè¨­è¨ˆ
- **æ¥ç¶šãƒ—ãƒ¼ãƒ«**: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šã®åŠ¹ç‡åŒ–

### ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥
- **ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚­ãƒ£ãƒƒã‚·ãƒ¥**: Redisï¼ˆå°†æ¥ï¼‰
- **ãƒ–ãƒ©ã‚¦ã‚¶ã‚­ãƒ£ãƒƒã‚·ãƒ¥**: é©åˆ‡ãªã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ˜ãƒƒãƒ€ãƒ¼
- **CDN**: é™çš„ãƒ•ã‚¡ã‚¤ãƒ«ã®é…ä¿¡æœ€é©åŒ–

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰æœ€é©åŒ–
- **ã‚³ãƒ¼ãƒ‰åˆ†å‰²**: é…å»¶èª­ã¿è¾¼ã¿
- **ãƒãƒ³ãƒ‰ãƒ«æœ€é©åŒ–**: Tree shaking
- **ç”»åƒæœ€é©åŒ–**: WebPå½¢å¼ã®ä½¿ç”¨

---

## ğŸ”„ CI/CDè¨­è¨ˆ

### GitHub Actionsãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

#### CIï¼ˆç¶™ç¶šçš„ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰
```yaml
name: CI
on: [push, pull_request]
jobs:
  test:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3
    - name: Set up Python
      uses: actions/setup-python@v4
    - name: Install dependencies
      run: pip install -r requirements.txt
    - name: Run tests
      run: pytest --cov=src
    - name: Upload coverage
      uses: codecov/codecov-action@v3
```

#### CDï¼ˆç¶™ç¶šçš„ãƒ‡ãƒ—ãƒ­ã‚¤ï¼‰
```yaml
name: Deploy
on:
  push:
    branches: [main]
jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3
    - name: Deploy to production
      run: echo "Deploy to production"
```

### ç’°å¢ƒç®¡ç†
- **é–‹ç™ºç’°å¢ƒ**: ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒ
- **ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ç’°å¢ƒ**: ãƒ†ã‚¹ãƒˆç”¨ç’°å¢ƒï¼ˆå°†æ¥ï¼‰
- **æœ¬ç•ªç’°å¢ƒ**: ã‚¯ãƒ©ã‚¦ãƒ‰ç’°å¢ƒï¼ˆå°†æ¥ï¼‰

---

## ğŸ“Š ç›£è¦–ãƒ»ãƒ­ã‚°è¨­è¨ˆ

### ãƒ­ã‚°è¨­è¨ˆ
```python
import logging
import json
from datetime import datetime

class StructuredLogger:
    def __init__(self):
        self.logger = logging.getLogger(__name__)
    
    def log_event(self, event_type, message, **kwargs):
        log_entry = {
            "timestamp": datetime.utcnow().isoformat(),
            "event_type": event_type,
            "message": message,
            **kwargs
        }
        self.logger.info(json.dumps(log_entry))
```

### ãƒ¡ãƒˆãƒªã‚¯ã‚¹è¨­è¨ˆ
- **ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¡ãƒˆãƒªã‚¯ã‚¹**: ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“ã€ã‚¨ãƒ©ãƒ¼ç‡
- **ãƒ“ã‚¸ãƒã‚¹ãƒ¡ãƒˆãƒªã‚¯ã‚¹**: å­¦ç¿’è¨˜éŒ²æ•°ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£
- **ã‚¤ãƒ³ãƒ•ãƒ©ãƒ¡ãƒˆãƒªã‚¯ã‚¹**: CPUä½¿ç”¨ç‡ã€ãƒ¡ãƒ¢ãƒªä½¿ç”¨ç‡

---

## ğŸ“‹ ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆè¨­è¨ˆ

### Dockerè¨­è¨ˆ
```dockerfile
# ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
FROM python:3.11-slim
WORKDIR /app
COPY requirements.txt .
RUN pip install -r requirements.txt
COPY . .
CMD ["uvicorn", "src.main:app", "--host", "0.0.0.0", "--port", "8000"]
```

```dockerfile
# ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
FROM node:18-alpine
WORKDIR /app
COPY package*.json ./
RUN npm install
COPY . .
RUN npm run build
FROM nginx:alpine
COPY --from=0 /app/dist /usr/share/nginx/html
```

### Docker Compose
```yaml
version: '3.8'
services:
  backend:
    build: ./backend
    ports:
      - "8000:8000"
    environment:
      - DATABASE_URL=sqlite:///./study_tracker.db
  
  frontend:
    build: ./frontend
    ports:
      - "3000:80"
    depends_on:
      - backend
```

---

## ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æŠ€è¡“ä»•æ§˜ï¼ˆPhase 1å®Œäº†ï¼‰

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰   â”‚    â”‚   ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å±¤   â”‚    â”‚     ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰   â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚
â”‚  Vue.js/React   â”‚â—„â”€â”€â–ºâ”‚   CORSåˆ¶é™      â”‚â—„â”€â”€â–ºâ”‚    FastAPI      â”‚
â”‚  + Tailwind CSS â”‚    â”‚   ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ˜ãƒƒãƒ€ãƒ¼ â”‚    â”‚   + å…¥åŠ›å€¤æ¤œè¨¼   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â”‚                       â”‚                       â”‚
         â–¼                       â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   XSSå¯¾ç­–       â”‚    â”‚   ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚° â”‚    â”‚   ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹   â”‚
â”‚   HTMLã‚¨ã‚¹ã‚±ãƒ¼ãƒ— â”‚    â”‚   æƒ…å ±æ¼æ´©é˜²æ­¢   â”‚    â”‚   DynamoDB      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å®Ÿè£…è©³ç´°

#### 1. å…¥åŠ›å€¤æ¤œè¨¼ãƒ»ã‚µãƒ‹ã‚¿ã‚¤ã‚º
```python
def sanitize_input(text: str, max_length: int = 1000) -> str:
    """å…¥åŠ›å€¤ã®ã‚µãƒ‹ã‚¿ã‚¤ã‚ºï¼ˆXSSå¯¾ç­–ï¼‰"""
    if not isinstance(text, str):
        return ""
    
    # é•·ã•åˆ¶é™
    if len(text) > max_length:
        text = text[:max_length]
    
    # HTMLã‚¨ã‚¹ã‚±ãƒ¼ãƒ—
    text = html.escape(text)
    
    # å±é™ºãªæ–‡å­—åˆ—ã®é™¤å»
    dangerous_patterns = [
        r'<script.*?</script>',
        r'javascript:',
        r'on\w+\s*=',
        r'<iframe.*?</iframe>',
        r'<object.*?</object>',
        r'<embed.*?</embed>'
    ]
    
    for pattern in dangerous_patterns:
        text = re.sub(pattern, '', text, flags=re.IGNORECASE)
    
    return text.strip()
```

#### 2. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ˜ãƒƒãƒ€ãƒ¼è¨­å®š
```python
def create_response(status_code: int, body: Dict[str, Any]) -> Dict[str, Any]:
    """ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä½œæˆ"""
    return {
        'statusCode': status_code,
        'headers': {
            'Content-Type': 'application/json',
            'Access-Control-Allow-Origin': 'https://learninggarden.studio',
            'Access-Control-Allow-Headers': 'Content-Type',
            'Access-Control-Allow-Methods': 'GET, POST, PUT, DELETE, OPTIONS',
            'X-Content-Type-Options': 'nosniff',
            'X-Frame-Options': 'DENY',
            'X-XSS-Protection': '1; mode=block',
            'Strict-Transport-Security': 'max-age=31536000; includeSubDomains'
        },
        'body': json.dumps(body, default=str)
    }
```

#### 3. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
```python
def handler(event, context):
    try:
        # ãƒ¡ã‚¤ãƒ³å‡¦ç†
        pass
    except Exception as e:
        # ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®æƒ…å ±æ¼æ´©ã‚’é˜²ã
        return create_response(500, {
            'error': 'Internal server error',
            'message': 'An unexpected error occurred'
        })
```

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆä»•æ§˜

#### ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸
- **XSSæ”»æ’ƒãƒ†ã‚¹ãƒˆ**: 14ç¨®é¡ã®å±é™ºãªå…¥åŠ›ãƒ‘ã‚¿ãƒ¼ãƒ³
- **å…¥åŠ›å€¤æ¤œè¨¼ãƒ†ã‚¹ãƒˆ**: å…¨ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å¢ƒç•Œå€¤ãƒ†ã‚¹ãƒˆ
- **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãƒ†ã‚¹ãƒˆ**: æƒ…å ±æ¼æ´©é˜²æ­¢ãƒ†ã‚¹ãƒˆ
- **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ˜ãƒƒãƒ€ãƒ¼ãƒ†ã‚¹ãƒˆ**: å…¨ãƒ˜ãƒƒãƒ€ãƒ¼ã®å­˜åœ¨ç¢ºèª

#### ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
```bash
# ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
python -m pytest tests/test_security.py -v

# ãƒ†ã‚¹ãƒˆçµæœ
# 14 passed in 0.24s
```

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£è¦–ãƒ»ãƒ­ã‚°

#### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ­ã‚°
```python
def log_security_event(event_type: str, details: Dict[str, Any]):
    """ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¤ãƒ™ãƒ³ãƒˆã®ãƒ­ã‚°è¨˜éŒ²"""
    log_entry = {
        "timestamp": datetime.utcnow().isoformat(),
        "event_type": "security",
        "security_event": event_type,
        "details": details,
        "ip_address": request.client.host,
        "user_agent": request.headers.get("user-agent")
    }
    logger.warning(json.dumps(log_entry))
```

#### ç›£è¦–é …ç›®
- **ä¸æ­£ã‚¢ã‚¯ã‚»ã‚¹è©¦è¡Œ**: èªè¨¼å¤±æ•—ã€æ¨©é™ã‚¨ãƒ©ãƒ¼
- **XSSæ”»æ’ƒè©¦è¡Œ**: å±é™ºãªå…¥åŠ›ãƒ‘ã‚¿ãƒ¼ãƒ³ã®æ¤œå‡º
- **å¤§é‡ãƒªã‚¯ã‚¨ã‚¹ãƒˆ**: DoSæ”»æ’ƒã®æ¤œå‡º
- **ç•°å¸¸ãªã‚¢ã‚¯ã‚»ã‚¹ãƒ‘ã‚¿ãƒ¼ãƒ³**: ä¸æ­£ãªAPIå‘¼ã³å‡ºã—

### æ¬¡ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å®Ÿè£…äºˆå®š

#### Phase 2: èªè¨¼ãƒ»èªå¯ï¼ˆ1ãƒ¶æœˆå¾Œï¼‰
```python
# JWTèªè¨¼å®Ÿè£…äºˆå®š
from fastapi.security import HTTPBearer
from jose import JWTError, jwt

security = HTTPBearer()

async def get_current_user(token: str = Depends(security)):
    # JWTãƒˆãƒ¼ã‚¯ãƒ³ã®æ¤œè¨¼
    pass
```

#### Phase 3: é«˜åº¦ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ï¼ˆ3ãƒ¶æœˆå¾Œï¼‰
- **WAF**: AWS WAFã«ã‚ˆã‚‹Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«
- **GuardDuty**: è„…å¨æ¤œå‡ºãƒ»ç›£è¦–
- **CloudTrail**: APIå‘¼ã³å‡ºã—ã®ç›£æŸ»ãƒ­ã‚°

## âœ… æ‰¿èª

| å½¹å‰² | åå‰ | æ‰¿èªæ—¥ | ç½²å |
|------|------|--------|------|
| ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ | å­¦ç¿’è€… | 2025å¹´7æœˆ22æ—¥ | - |
| æŠ€è¡“è²¬ä»»è€… | AIã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ | 2025å¹´7æœˆ22æ—¥ | - |
| ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è²¬ä»»è€… | AIã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ | 2025å¹´8æœˆ5æ—¥ | - |

---

**æ–‡æ›¸ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: v2.0  
**æœ€çµ‚æ›´æ–°æ—¥**: 2025å¹´8æœˆ5æ—¥ 